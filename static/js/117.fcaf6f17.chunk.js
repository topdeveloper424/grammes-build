"use strict";(self.webpackChunkgrammes_client=self.webpackChunkgrammes_client||[]).push([[117],{5566:function(e,s,r){r(2791);s.Z=r.p+"static/media/menu.4de02690a501e8862578d84c9d900d3b.svg"},1360:function(e,s,r){var n=r(184);s.Z=function(e){var s=e.text,r=e.highlight,t=new RegExp("(".concat(r,")"),"gi"),c=s.replace(t,'<span class="highlighted">$1</span>');return(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:c}})}},5263:function(e,s,r){r.d(s,{Z:function(){return h}});var n=r(4165),t=r(5861),c=r(9439),a=(r(2791),r(8687)),i=r(7689);var l=r.p+"static/media/close-white.5944e383a58eefa4d79fa032023f3848.svg",o=r(6568),u=r(6926),d=r(184);function h(e){var s=(0,a.I0)(),r=(0,i.s0)(),h=(0,u._y)(),m=(0,c.Z)(h,1)[0],p=function(){var e=(0,t.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m().unwrap();case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("err",e.t0);case 9:s({type:o.WK}),r("/",{replace:!0});case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(s){return e.apply(this,arguments)}}();return(0,d.jsx)("div",{className:e.show?"expanded__menu shown":"expanded__menu",children:(0,d.jsxs)("div",{className:"menu-wrapper",children:[(0,d.jsx)("button",{className:"close-menu sidebarToggler",onClick:e.onClose,children:(0,d.jsx)("img",{src:l,alt:"Close Sidebar"})}),(0,d.jsx)("div",{className:"menu-navigation",children:(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"/m/membre",children:"Products"})}),(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"/m/my-shopping-list",children:"My shopping list"})}),(0,d.jsx)("li",{children:(0,d.jsxs)("a",{href:"javascript:void(0)",disabled:!0,children:["My Account",(0,d.jsx)("p",{children:"Access your account settings and payment history on the desktop version of 100grammes"})]})}),(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"https://www.100grammes.ca/faq#liste",target:"_blank",rel:"noopener noreferrer",children:"FAQ"})}),(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"https://www.100grammes.ca/termes-et-conditions",target:"_blank",rel:"noopener noreferrer",children:"Terms and Conditions"})}),(0,d.jsx)("li",{children:(0,d.jsx)("a",{onClick:p,children:"Sign off"})})]})})]})})}},117:function(e,s,r){r.r(s);var n=r(3433),t=r(9439),c=r(2791),a=r(8687),i=r(7689),l=r(4270),o=r(8825),u=r(2171),d=r(5566),h=r(6856),m=r(5661),p=r(1356),f=r(6568),g=r(1360),x=r(5263),j=r(184);s.default=(0,a.$j)((function(e){return{categories:e.product.categories,favourites:e.product.favourites,unlikes:e.product.unlikes,sources:e.product.sources,carts:e.product.carts,selectedCategory:e.filter.category,selectedSubCategory:e.filter.subCategory,selectedSources:e.filter.sources,keyword:e.filter.keyword}}))((function(e){var s=e.categories,r=e.favourites,y=e.unlikes,v=e.sources,b=e.carts,k=e.selectedCategory,w=e.selectedSubCategory,N=e.selectedSources,_=e.keyword,C=(0,o.t5)(null,null,"member"),Z=(0,c.useState)(1),S=(0,t.Z)(Z,2),L=S[0],z=(S[1],(0,c.useState)(0)),M=(0,t.Z)(z,2),T=M[0],F=M[1],q=(0,c.useState)([]),A=(0,t.Z)(q,2),E=A[0],I=A[1],$=(0,c.useState)(_),J=(0,t.Z)($,2),Y=J[0],P=J[1],U=(0,c.useState)(!1),V=(0,t.Z)(U,2),B=V[0],H=V[1],K=(0,c.useState)(!1),O=(0,t.Z)(K,2),Q=O[0],R=(O[1],(0,m.jM)()),W=(0,t.Z)(R,1)[0],D=(0,m.ZY)(),G=(0,t.Z)(D,1)[0],X=(0,m.ZI)(),ee=(0,t.Z)(X,1)[0],se=(0,m.od)(),re=(0,t.Z)(se,1)[0],ne=(0,m.oU)(),te=(0,t.Z)(ne,1)[0],ce=(0,i.s0)(),ae=0;for(var ie in b)ae+=b[ie].length;var le=(0,a.I0)();(0,c.useEffect)((function(){de()}),[k,N,w,L,_]);if(T<=5)1,T;else{var oe=Math.ceil(2.5);L<=oe?(1,5):L+oe>=T?(T-5+1,T):(L-oe+1,L+oe-1)}var ue=function(e,s){e.currentTarget.parentNode.classList.toggle("active");var r=s.split("@@@@");P(""),le({type:f.Px,payload:{category:r[0],subCategory:r[1]}})},de=function(){W({page_size:500,page:L,sub_category:w,sources:N,keyword:_}).unwrap().then((function(e){F(e.total_pages),I(e.results)})).catch((function(e){console.log(e)}))},he=function(e){w&&(G({sub_category:w}).unwrap().then((function(e){console.log(e)})),le({type:f.i2,payload:{selectedSubCategory:w}}))},me=function(e){w&&(ee({sub_category:w}).unwrap().then((function(e){console.log(e)})),le({type:f.N7,payload:{selectedSubCategory:w}}))};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l.q,{title:C("title")}),(0,j.jsxs)("header",{children:[(0,j.jsxs)("div",{className:"top_nav",children:[(0,j.jsx)("div",{}),(0,j.jsx)("div",{className:"logo",children:(0,j.jsx)("a",{href:"https://www.100grammes.ca",children:(0,j.jsx)("img",{src:u,alt:"100grammes"})})}),(0,j.jsxs)("div",{className:"hamburger",children:[(0,j.jsx)("div",{className:"cart-count",onClick:function(){ce("/m/my-shopping-list")},children:ae}),(0,j.jsx)("button",{className:"sidebarToggler",onClick:function(){return H(!0)},children:(0,j.jsx)("img",{src:d.Z,alt:"Menu"})})]})]}),(0,j.jsx)("div",{className:"breadcrumb",children:(0,j.jsx)("ul",{children:(0,j.jsxs)("li",{className:"item-has-submenu",children:[(0,j.jsx)("a",{href:"javascript:void(0)",onClick:function(e){e.currentTarget.nextElementSibling.classList.toggle("active")},children:w}),(0,j.jsxs)("ul",{className:Q?"submenu active":"submenu",children:[r&&r.length>0&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("li",{className:"submenu-category-name",children:(0,j.jsxs)("a",{href:"javascript:void(0)",children:[(0,j.jsx)(h.Yqy,{size:13})," ",C("My favourites")," (",r.length,")"]})}),r.map((function(e){return(0,j.jsx)("li",{className:"submenu-subcategory-name",onClick:function(s){return ue(s,"favourite@@@@"+e)},children:(0,j.jsx)("a",{href:"javascript:void(0)",children:e})},e)}))]}),s&&s.map((function(e){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("li",{className:"submenu-category-name",children:(0,j.jsx)("a",{href:"javascript:void(0)",children:e.name})},e.id),e.sub_categories&&e.sub_categories.map((function(s){return(0,j.jsx)("li",{className:"submenu-subcategory-name",onClick:function(r){return ue(r,e.name+"@@@@"+s.name)},children:(0,j.jsx)("a",{href:"javascript:void(0)",children:s.name})},s.id)}))]})})),y&&y.length>0&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("li",{className:"submenu-category-name",children:(0,j.jsxs)("a",{href:"javascript:void(0)",children:[(0,j.jsx)(h._JV,{size:13})," ",C("Unlikes")," (",y.length,")"]})}),y.map((function(e){return(0,j.jsx)("li",{className:"submenu-subcategory-name",onClick:function(s){return ue(s,"unlike@@@@"+e)},children:(0,j.jsx)("a",{href:"javascript:void(0)",children:e})},e)}))]})]})]})})}),(0,j.jsx)("div",{className:"items-filter",children:(0,j.jsx)("ul",{children:v&&Object.keys(v).map((function(e,s){return(0,j.jsxs)("li",{className:"input-group-membre grocery-item",children:[(0,j.jsx)("input",{type:"checkbox",name:"source-".concat(e),id:"item-".concat(e.toLowerCase()),style:{background:v[e]},onChange:function(s){return function(e,s){if(console.log("eve",e.target.checked),e.target.checked)0==N.includes(s)&&le({type:f.iA,payload:{sources:[].concat((0,n.Z)(N),[s])}});else{var r=N.filter((function(e){return e!=s}));le({type:f.iA,payload:{sources:r}})}}(s,e)},checked:!!N.includes(e)}),(0,j.jsx)("label",{for:"item-".concat(e.toLowerCase()),className:"source-filter-label label-".concat(e),style:{color:v[e]},children:e})]},s)}))})})]}),(0,j.jsx)(x.Z,{show:B,onClose:function(){return H(!1)}}),(0,j.jsxs)("div",{className:"apps-body",children:[(0,j.jsx)("div",{className:"table-filter",children:(0,j.jsxs)("ul",{children:[(0,j.jsx)("li",{children:(0,j.jsx)("input",{className:"filter-keyword-input",type:"text",placeholder:C("Filter"),value:Y,onChange:function(e){return function(e){P(e.target.value);var s=e.target.value;Y!==s&&s.length>=3&&le({type:f.im,payload:{keyword:s}}),s.length<3&&le({type:f.im,payload:{keyword:""}})}(e)},onTouchStart:function(e){return function(e){var s=e.target.value;"Enter"===e.key&&(""!==s.trim()&&s.length>=3&&le({type:f.im,payload:{keyword:s}}),s.length<3&&le({type:f.im,payload:{keyword:""}}))}(e)}})}),(0,j.jsx)("li",{children:y.includes(w)?(0,j.jsx)("a",{onClick:me,style:{cursor:"pointer"},children:(0,j.jsx)(h._JV,{size:20})}):(0,j.jsx)("a",{onClick:me,style:{cursor:"pointer"},children:(0,j.jsx)(h.JcC,{size:20})})}),(0,j.jsx)("li",{children:r.includes(w)?(0,j.jsx)("a",{className:"text-red",onClick:he,style:{cursor:"pointer"},children:(0,j.jsx)(h.Yqy,{size:20})}):(0,j.jsx)("a",{className:"text-red",onClick:he,style:{cursor:"pointer"},children:(0,j.jsx)(h.iqB,{size:20})})})]})}),(0,j.jsx)("div",{className:"product-list",children:(0,j.jsx)("table",{className:"table",children:(0,j.jsx)("tbody",{children:E&&E.length>0?(0,j.jsx)(c.Suspense,{fallback:(0,j.jsx)(p.Z,{}),children:E.map((function(e){var s=!!(b[e.source]&&b[e.source].filter((function(s){return s.url==e.url})).length>0);return(0,j.jsxs)("tr",{className:s?"product-selected tr-"+e.source.toLowerCase():"tr-"+e.source.toLowerCase(),onClick:function(r){return function(e,s){e?te({url:s.url}).unwrap().then((function(e){console.log(e)})):re({product_id:s.id}).unwrap().then((function(e){console.log(e)})),le({type:f.lo,payload:{product:s}})}(s,e)},children:[(0,j.jsx)("td",{className:"item-thumb",children:(0,j.jsx)("img",{src:e.image,alt:e.final_name})}),(0,j.jsxs)("td",{className:"product-info",children:[(0,j.jsxs)("a",{className:"product-name",href:"javascript:void(0)",children:[(0,j.jsx)(g.Z,{text:e.final_name,highlight:_}),"\xa0",(0,j.jsx)(g.Z,{text:e.brand?e.brand:"",highlight:_})]}),(0,j.jsxs)("ul",{children:[(0,j.jsxs)("li",{className:"product-price-for-unit",children:["$",e.final_price_per_unit_of_measure," ",e.final_unit_of_measure," ou $",e.final_price_for_item]}),(0,j.jsx)("li",{className:"product-source",children:e.source})]})]}),(0,j.jsx)("td",{className:"product-first-td-".concat(e.source.toLowerCase()),children:(0,j.jsxs)("div",{className:"input-group-membre cart-check-item",children:[(0,j.jsx)("input",{type:"checkbox",id:"check_row".concat(e.id),onChange:function(s){return function(e,s){e.target.checked?re({product_id:s.id}).unwrap().then((function(e){console.log(e)})):te({url:s.url}).unwrap().then((function(e){console.log(e)})),le({type:f.lo,payload:{product:s}})}(s,e)},checked:s}),(0,j.jsx)("label",{for:"check_row".concat(e.id)})]})})]},e.id)}))}):""})})})]})]})}))}}]);
//# sourceMappingURL=117.fcaf6f17.chunk.js.map